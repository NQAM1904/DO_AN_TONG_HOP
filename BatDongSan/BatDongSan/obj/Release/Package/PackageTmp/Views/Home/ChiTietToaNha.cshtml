
@{
    ViewBag.Title = "ChiTietToaNha";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int idBuild = ViewBag.idBuild;
}

<style>
    .date {
        font-style: italic;
    }

    .noidung {
        width: 600px;
    }

    .breadcrumb {
        margin-top: 20px
    }
    .fl-left {
        float: left;
    }

    .fl-rigth {
        float: right;
    }

    .pd-5 {
        padding: 5px;
    }

    .pd-10 {
        padding: 10px;
    }

    .clear-fix {
        clear: both;
    }

    h1 {
        text-align: center;
        text-transform: capitalize;
        font-size: 30px;
        margin-top: 30px;
        letter-spacing: 2px;
        font-weight: 300;
    }


    .title_img {
        float: left;
    }

        .title_img img {
            padding-top: 20px;
            width: 100%;
            height: 400px;
        }

    .tile_content {
        width: 500px;
        height: 350px;
        float: left;
        margin: 20px;
    }

        .tile_content h2 {
            font-size: 20px;
            font-weight: 100;
            text-transform: capitalize;
        }

        .tile_content h3 {
            font-size: 30px;
        }

</style>
<br/>
<div class="container-fluid">

    <div class="container">
        @using (BDSEntities db = new BDSEntities())
        {
            var chitiet = db.BUILDINGs.Where(x => x.idBuild == idBuild).FirstOrDefault();
            <div class="text-center">
                <h2>Văn phòng cho thuê tại tòa nhà @chitiet.nameBuild</h2>
            </div>
        }
        <br />
        <div class="row">
            <div class="col-6">
                @using (BDSEntities db = new BDSEntities())
                {
                    var chitiet = db.BUILDINGs.Where(x => x.idBuild == idBuild).ToList();

                    foreach (var item in chitiet)
                    {
                        var hinh = db.IMAGEs.Where(x => x.idBuild == item.idBuild).FirstOrDefault();
                        <div class="title_img">
                            <img src="~/Images/@hinh.nameImage" alt="toa-nhà">
                        </div>
                    }
                }
            </div>
            <div class="col-6">
                @using (BDSEntities db = new BDSEntities())
                {

                    var thongtin = db.BUILDINGs.Where(x => x.idBuild == idBuild).ToList();

                    foreach (var item in thongtin)
                    {

                        var phuong = db.WARDs.Where(x => x.idWard == item.idWard).FirstOrDefault();
                        var quan = db.DISTRICTs.Where(x => x.idDistrict == phuong.idDistrict).FirstOrDefault();
                        var city = db.CITies.Where(x => x.idCity == quan.idCity).FirstOrDefault();
                        string GiaTien = String.Format("{0:N0}", item.price);
                        var xephang = db.TYPEs.Where(x => x.idType == item.idType).FirstOrDefault();
                        var tinhtrang = db.STATUS.Where(x => x.idStatus == item.idStatus).FirstOrDefault();
                        var huong = db.HUONGs.Where(x => x.idHuong == item.idHuong).FirstOrDefault();
                <div class="tile_content">
                    <h4 style="color: deepskyblue">@item.nameBuild cho thuê văn phòng @quan.nameDistrict</h4>
                    <h3 style="color: orange">@GiaTien <small>VNĐ/tháng</small></h3>
                    <div class="icon_item">
                        <div class="icon_item_left fl-left pd-5 pd-10">
                            <i class="fa fa-building"></i> Tên Tòa nhà
                        </div>
                        <div class="icon_item_right fl-left pd-5 pd-10">
                            @item.nameBuild
                        </div>
                    </div>
                    <div class="clear-fix"></div>
                    <div class="icon_item">
                        <div class="icon_item_left fl-left pd-5 pd-10">
                            <i class="fas fa-map-marker-alt"></i> Vị trí
                        </div>
                        <div class="icon_item_right fl-left pd-5 pd-10">
                            @item.street 
                        </div>
                    </div>
                    <div class="clear-fix"></div>
                    <div class="icon_item">
                        <div class="icon_item_left fl-left pd-5 pd-10">
                            <i class="fa fa-cube"></i> Diện tích
                        </div>
                        <div class="icon_item_right fl-left pd-5 pd-10">
                            @item.floorarea m<sup>2</sup>
                        </div>
                    </div>
                    <div class="clear-fix"></div>
                    <div class="icon_item">
                        <div class="icon_item_left fl-left pd-5 pd-10">
                            <i class="far fa-compass"></i> Hướng
                        </div>
                        <div class="icon_item_right fl-left pd-5 pd-10">
                            @huong.nameHuong
                        </div>
                    </div>
                    <div class="clear-fix"></div>
                    <div class="icon_item">
                        <div class="icon_item_left fl-left pd-5 pd-10">
                            <i class="fa fa-star"></i> Xếp hạng
                        </div>
                        <div class="icon_item_right fl-left pd-5 pd-10">
                            @xephang.nameType
                        </div>
                    </div>
                    <div class="clear-fix"></div>
                    <div class="icon_item">
                        <div class="icon_item_left fl-left pd-5 pd-10">
                            <i class="fas fa-toggle-on"></i> Tình trạng
                        </div>
                        <div class="icon_item_right fl-left pd-5 pd-10">
                            @tinhtrang.nameStatuts
                        </div>
                    </div>
                    <div class="clear-fix"></div>
                    <div class="icon_item">
                        <div class="icon_item_left fl-left pd-5 pd-10">
                            <i class="far fa-calendar-check"></i> Thời hạn tối hỉu
                        </div>
                        <div class="icon_item_right fl-left pd-5 pd-10">
                            @item.depositDate tháng
                        </div>
                    </div>
                </div>
                    }



                }
                <button class="btn btn-warning btn-block" style="color: white"><i class="fas fa-plus"></i> Đặt phiếu hẹn</button>
            </div>
            @using (BDSEntities db = new BDSEntities())
            {
                var chitiet = db.BUILDINGs.Where(x => x.idBuild == idBuild).ToList();
                <div class="noidung">
                    @foreach (var item in chitiet)
                    {  <h3> Giới thiệu tòa nhà @item.nameBuild</h3>

                        @Html.Raw(item.conent)
                    }

                </div>
            }
        </div>
    </div>
</div>
